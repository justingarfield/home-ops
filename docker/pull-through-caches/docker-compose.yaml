---
# Monitor https://github.com/distribution/distribution/pull/3864
version: "3.7"

services:
  pull-through-cache-ghcr.io:
    image: registry:2.8.1
    environment:
      - REGISTRY_PROXY_REMOTEURL=https://ghcr.io
    ports:
      - "5000:5000"
  pull-through-cache-gcr.io:
    image: registry:2.8.1
    environment:
      - REGISTRY_PROXY_REMOTEURL=https://gcr.io
    ports:
      - "5001:5000"
  pull-through-cache-registry.k8s.io:
    image: registry:2.8.1
    environment:
      - REGISTRY_PROXY_REMOTEURL=https://registry.k8s.io
    ports:
      - "5002:5000"
  pull-through-cache-registry-1.docker.io:
    image: registry:2.8.1
    environment:
      - REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io
    ports:
      - "5003:5000"

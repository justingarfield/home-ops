---
apiVersion: "cilium.io/v2alpha1"
kind: CiliumBGPPeeringPolicy
metadata:
  name: "${CILIUM_BGP_PEERING_POLICY_NAME}"
spec:
  nodeSelector:
    matchLabels:
      bgp-peering-policy: "${CILIUM_BGP_PEERING_POLICY_NAME}"
  virtualRouters:
    - localASN: ${CILIUM_BGP_PEERING_POLICY_LOCAL_ASN}
      exportPodCIDR: false # I don't want my POD CIDRs exposed directly. I want them behind an Ingress / API Gateway.
      neighbors:
        - peerAddress: ${CILIUM_BGP_PEERING_POLICY_PEER_ADDRESS}
          peerASN: ${CILIUM_BGP_PEERING_POLICY_PEER_ASN}
      serviceSelector:
        matchExpressions:
          - {key: somekey, operator: NotIn, values: ['never-used-value']} # This might change as I evolve the configurations over-time
---
apiVersion: "cilium.io/v2alpha1"
kind: CiliumLoadBalancerIPPool
metadata:
  name: "${CILIUM_LOAD_BALANCER_IP_POOL_NAME}"
spec:
  cidrs:
    - cidr: "${CILIUM_LOAD_BALANCER_IP_POOL_CIDR}"
